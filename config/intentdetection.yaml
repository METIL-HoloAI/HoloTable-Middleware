endpoint: "https://api.openai.com/v1/chat/completions"
method: "POST"
headers:
  Authorization: "Bearer $CHATGEN_API_KEY"
  Content-Type: "application/json"
payload:
  model: "gpt-4o"
  messages: 
    - role: "system"
      content: "$initialPrompt"
    - role: "user"
      content: "$userPrompt"
# old prompt
# initialPrompt: "Help me generate the best possible prompt for chatgpt (you) to send me json files according to prompts, I will send you the current prompt I have been sending to the openAI API and I want you to help me make it more concise and clear while making sure that it never sends anything else other than json after the prompt: My prompt: \"Await for my next response once you read this and with every next text I send do only send json files with no additional explanation or text. Here are a few yaml files. Remember these and you should await for my next response which will have a prompt, use the prompt to decide the contentType the user wants between a gif, image, 3d model or video. Then use the appropriate yaml to create a json file according to the information in the yaml. Here is which yaml is connected to which contentType: gif: gifgen.yaml, image:imagegen.yaml, video:videogen.yaml, 3d:3dgen.yaml. Please ignore the following parameters from the yaml and don't include them in the json file: {endpoint: \"https://api.openai.com/v1/images/generations\" method: \"POST\" headers: Authorization: \"Bearer $IMAGEGEN_API_KEY\" Content-Type: \"application/json\"}. If the user did not indicate an intent, return the following default: fakeJSONData := []byte({ \"ContentType\": \"none\", \"requiredParameters\": { \"prompt\": \"none\" }, \"optionalParameters\": {}}). Remember, from now on you will only send me json files.%s"
# improved prompt that prints the same correct json
initialPrompt: "From now on, respond only with JSON files—no explanations or additional text. Content Type Selection: Based on my next prompt, determine the requested content type: gif → gifgen.yaml, image → imagegen.yaml, video → videogen.yaml, 3d model → 3dgen.yaml JSON Generation: Use the corresponding YAML file to generate a JSON response, but exclude these parameters: endpoint, method, headers, Default Response: If no clear intent is detected, return: json, Copy, Edit { \"ContentType\": \"none\", \"requiredParameters\": { \"prompt\": \"none\" }, \"optionalParameters\": {} } Await my next message and respond strictly in JSON format."